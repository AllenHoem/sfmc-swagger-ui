openapi: 3.0.0
servers: []
info:
  description: ''
  version: 215.180605.1555
  title: Pre-Release Salesforce Marketing Cloud  Messaging APIs
paths:
  '/transactionalmessages/v1/{channel}/definitions/':
    parameters:
      - in: path
        name: channel
        required: true
        schema:
          type: string
          enum:
            - email
            - sms
    post:
      tags:
        - ' definitions'
      summary: create a send defintion with autogenerated key
      responses:
        '200':
          description: OK
    get:
      tags:
        - ' definitions'
      summary: gets a list of defintions
      responses:
        '200':
          description: OK
  '/transactionalmessages/v1/{channel}/definitions/{definitionKey}':
    parameters:
      - in: path
        name: definitionKey
        description: your  send defintion
        required: true
        schema:
          type: string
      - in: path
        name: channel
        required: true
        schema:
          type: string
          enum:
            - email
            - sms
    get:
      tags:
        - ' definitions'
      summary: gets configuration of a defintion
      responses:
        '200':
          description: OK
    patch:
      tags:
        - ' definitions'
      summary: modify a defintion
      responses:
        '200':
          description: OK
    delete:
      tags:
        - ' definitions'
      summary: delete a defintion
      responses:
        '200':
          description: OK
    post:
      operationId: EmailDefinitionSend
      tags:
        - ' definitions'
      summary: create a send definition
      description: ''
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                allOf:
                  - $ref: '#/components/schemas/apiResponseBody'
                  - $ref: '#/components/schemas/messageSendResponse'
      requestBody:
        $ref: '#/components/requestBodies/EmailDefinitionSendSendBody'

    parameters:
      - in: path
        name: definitionKey
        description: your  send defintion
        required: true
        schema:
          type: string
    post:
      deprecated: true
      operationId: SmsDefinitionSend
      tags:
        - ' sends'
      summary: send a SMS message
      description: ''
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                allOf:
                  - $ref: '#/components/schemas/apiResponseBody'
                  - $ref: '#/components/schemas/messageSendResponse'
      requestBody:
        content:
          application/json:
            schema:
              allOf:
                - $ref: '#/components/schemas/smsRequest'
components:
  requestBodies:
    EmailDefinitionSendSendBody:
      content:
        application/json:
          schema:
            allOf:
              - $ref: '#/components/schemas/emaildefintion'
  schemas:

    apiResponseBody:
      type: object
      properties:
        requestId:
          type: string
          format: UUID v4
          example: ba9633fa-5c8d-4c42-8efa-a16412ac0c53
        statusCode:
          type: integer
          example: 7005
        statusMessage:
          type: string
          example: Ensure you include all required fields in the body of the request
    messageSendResponse:
      type: object
      properties:
        responses:
          type: array
          items:
            type: object
            properties:
              messageKey:
                type: string
                example: 9691010a-1e59-48a0-b0d8-67d9a86dc470
              errorCode:
                type: integer
              errorMessage:
                type: string
    messageWebhookResponse:
      type: object
      properties:
        type:
          type: string
          example: TransactionalSendEvents.EmailSent
        timestamp:
          type: string
          format: date-time
        compositeId:
          type: string
          example: tsid.job.list.batch.sub
        info:
          type: object
          properties:
            messageKey:
              type: string
              format: UUID v4
              example: 9691010a-1e59-48a0-b0d8-67d9a86dc470
            subscriberKey:
              type: string
            emailAddress:
              type: string
              example: john.smith@example.com